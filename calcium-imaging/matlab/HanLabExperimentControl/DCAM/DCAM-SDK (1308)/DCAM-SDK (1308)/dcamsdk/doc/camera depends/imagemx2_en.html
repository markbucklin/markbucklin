<html>
  <head>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>ImagEM vs ImagEM X2</title>
    <style type="text/css">
            body {
                font-family: sans-serif;
            }
            .arg-name {
              font-style: italic;
            }
            .arg-decl {
              text-indent: 5ex;
            }
            .arg-help {
              text-indent: 2ex;
            }
            .chapter {
                font-size: 200%;
                line-height: 2em;
                text-align: center;
                border:	1px solid gray;
                background-color: #C0FFC0;
            }
            .section {
                font-size: 175%;
                font-family: serif;
                font-style: italic;
            }
            .title {
                font-size: 125%;
                color: #008080;
            }
            .fname {
                font-family: serif;
                font-style: italic;
                font-size: 200%;
                font-weight: bold;
            }
            .formula {
                font-size: 150%;
                line-height: 2em;
                text-align: center;
                font-family: serif;
                font-style: italic;
            }
            .proplist {
                font-family: sans-serif;
            }
            .prop_groupname {
                font-size: 150%;
                line-height: 2em;
            }
            .prop_id {
                background-color: #FFFFC0;
            }
            .prop_indent {
                background-color: #C0C0C0;
            }
            table {
              text-indent: 0;
            }
            a.go-top   { text-decoration:none;}
            a.go-top:link { color: #000080; }
            a.go-top:hover { color: #808080; }
            a.go-top:visited { color: #000080; }
        </style>
  </head>
  <body>
    <div><a class="go-top" href="#Chapter_appendix_detail">Go to Appendix</a></div>
    <hr>
    <div id="Chapter_trigger_properties_detail">
      <div class="chapter">Trigger Properties</div>
      <p></p>
      <table width="100%">
        <tr>
          <td width="1%"></td>
          <td>
            <hr>
            <div class="section">Trigger Connector</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-13/-14 has 3 connectors for trigger input. C9100-23B only has 1 connector. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_TRIGGER_CONNECTOR</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAMPROP_TRIGGER_CONNECTOR__INTERFACE</td>
						<td>Use CC1 in Camera Link connector. </td>
						<td>n/a</td>
					</tr>
					<tr>
						<td>DCAMPROP_TRIGGER_CONNECTOR__BNC</td>
						<td>Use BNC connector on power supply unit. </td>
						<td>Use SMA connector on camera head. </td>
					</tr>
					<tr>
						<td>DCAMPROP_TRIGGER_CONNECTOR__MULTI</td>
						<td>Use Multi I/O connector on camera head. </td>
						<td>n/a</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Trigger times</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
Trigger times property can control how many trigger camera tins out at synchronous readout trigger mode. The value ranges are different between C9100-13/-14 and C9100-23B. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_TRIGGERTIMES</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>min</td>
						<td>1</td>
						<td>1</td>
					</tr>
					<tr>
						<td>max</td>
						<td>10000</td>
						<td>4095</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Trigger delay</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
Trigger delay property can control how long wait from input trigger timing to action by the thrigger. This property is not supported by C9100-13/-14, but supported by C9100-23B. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_TRIGGERDELAY</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>min</td>
						<td>n/a</td>
						<td>0 sec</td>
					</tr>
					<tr>
						<td>max</td>
						<td>n/a</td>
						<td>10 sec</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <p><a class="go-top" href="#Chapter_trigger_properties_detail">Go to of chapter "Trigger Properties".</a></p>
          </td>
          <td width="2%"></td>
        </tr>
      </table>
    </div>
    <hr>
    <div id="Chapter_exposure_properties_detail">
      <div class="chapter">Exposure control Properties</div>
      <p></p>
      <table width="100%">
        <tr>
          <td width="1%"></td>
          <td>
            <hr>
            <div class="section">Mechanical shutter</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-23B has built-in mechanical shutter. This is for protecting image sensor from "afterglow". So, the shutter may not be able to shield from strong light. And it is not recommend to open and close at every frame capturing in fast frame rate. In fast frame rate, it is recommended to open the shutter at starting experiment and close at ending. By the way, at factory setting, mechanical shutter control is not available. To make enable, please turn on DIP SW 2 in rear panel of the camera. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_MECHANCALSHUTTER</td>
						<td>Note</td>
					</tr>
					<tr>
						<td>DCAMPROP_MECHANICALSHUTTER__OPEN</td>
						<td>Open mechanical shutter</td>
					</tr>
					<tr>
						<td>DCAMPROP_MECHANICALSHUTTER__CLOSE</td>
						<td>Close mechanical shutter</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Internal Trigger Handling</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
As default, C9100-13/-14 and C9100-23B cannot use shorter exposure than frame readout time in INTERNAL trigger mode. If host software changes DCAM_IDPROP_INTERNALTRIGGER_HANDLING, it is possible with compensation. DCAMPROP_INTERNALTRIGGER_HANDLING__SHORTEREXPOSURETIME can support shorter exposure time than framer readout time but frame rate becomes slower. In case of C9100-13/-14, frame interval also becomes inconstant. DCAMPROP_INTERNALTRIGGER_HANDLING__FASTERFRAMERATE can support faster frame rate but minimum exposure time is limited. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_INTERNALTRIGGER_HANDLING</td>
						<td>note</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAMPROP_INTERNALTRIGGER_HANDLING __SHORTEREXPOSURETIME</td>
						<td>Exposure time can be shorter</td>
						<td>with slower frame rate and inconstant frame rate</td>
						<td>with slower frame rate</td>
					</tr>
					<tr>
						<td>DCAMPROP_INTERNALTRIGGER_HANDLING __FASTERFRAMERATE</td>
						<td>Frame rate can be faster</td>
						<td>with longer minimum exposure time. </td>
						<td>with longer minimum exposure time. </td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Exposure time control</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-23B has capbility to use frame readout time always as exposure time. To do so, DCAM_IDPROP_EXPOSURETIME_CONTROL property has to be set DCAMPROP_EXPOSURETIME_CONTROL__OFF. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_EXPOSURETIME_CONTROL</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAMPROP_EXPOSURETIME_CONTROL__OFF</td>
						<td>n/a</td>
						<td>support</td>
					</tr>
					<tr>
						<td>DCAMPROP_EXPOSURETIME_CONTROL__NORMAL</td>
						<td>n/a</td>
						<td>support</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Exposure time</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
Exposure time range is different between C9100-13, -14 and -23B because of frame readout time. In case of INTERNAL trigger mode, the minimum exposure time is limited by frame readout time. In case of EXTERNAL EDGE / LEVEL and SOFTARE trigge rmode, exposure time can be shorter. If host software wants to use shorter exposure time than frame readout time in INTERNAL trigger mode, change value of DCAM_IDPROP_INTERNALTRIGGER_HANDLING. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_EXPOSURETIME</td>
						<td>C9100-13</td>
						<td>C9100-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>minimum (speed=3)</td>
						<td>0.030530</td>
						<td>0.10331</td>
						<td>0.013900</td>
					</tr>
					<tr>
						<td>maximum (speed=3)</td>
						<td>7200</td>
						<td>7200</td>
						<td>1</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <p><a class="go-top" href="#Chapter_exposure_properties_detail">Go to of chapter "Exposure control Properties".</a></p>
          </td>
          <td width="2%"></td>
        </tr>
      </table>
    </div>
    <hr>
    <div id="Chapter_feature_properties_detail">
      <div class="chapter">Sensitivity and gain </div>
      <p></p>
      <table width="100%">
        <tr>
          <td width="1%"></td>
          <td>
            <hr>
            <div class="section">Sensitivity</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-13/-14 and C9100-23B support sensitivity in EM-CCD mode. The value of DCAM_IDPROP_SENSITIVITY can be 0 to 255. The value is not linear scale. If DCAM_IDPROP_DIRECTEMGAIN_MODE is DCAMPROP_MODE__ON, the value range becomes 4 to 1200 and the value is nearly amplifier ratio of sensitivity. The value is converted in DCAM from ratio to camera parameter, then DCAM sends it to camera. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_DIRECTEMGAIN_MODE</td>
						<td>DCAM_IDPROP_SENSITIVITY</td>
					</tr>
					<tr>
						<td>DCAMPROP_MODE__OFF</td>
						<td>0 to 255</td>
					</tr>
					<tr>
						<td>DCAMPROP_MODE__ON</td>
						<td>4 to 1200</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Measured sensitivity</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-23B can measure current sensitivity under certain condition. The following condition is necessary. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>Item</td>
						<td>Condition</td>
					</tr>
					<tr>
						<td>DCAM_IDPROP_CCDMODE</td>
						<td>DCAMPROP_CCDMODE__EMCCD (EMCCD Mode)</td>
					</tr>
					<tr>
						<td>Intensity</td>
						<td>Not too dark, No saturation</td>
					</tr>
				</table>
				<p></p>
				<div>
This measured value is always updated inside camera. For better measurement, we recommend to do following. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>Condition</td>
						<td>Recommend</td>
					</tr>
					<tr>
						<td>After changing sensitivity value or binning/readout speed. </td>
						<td>Wait a few seconds because sensitivity requires a few seconds to be stable. </td>
					</tr>
					<tr>
						<td>Capturing</td>
						<td>By software trigger or external edge/level trigger and after getting the image, then get MEASURED value. </td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Contrast gain</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-13/-14 supports contrast gain control in EM-CCD and Normal CCD mode. But in case of EM-CCD mode, sensitivity, which means EM-Gain, can improve S/N, but contrast gain is not. So C9100-23B supports contrast gain control in Normal CCD mode but not in EM-CCD. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_CONTRASTGAIN</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>EM-CCD mode</td>
						<td>1 to 5</td>
						<td>Only 1</td>
					</tr>
					<tr>
						<td>Normal CCD mode</td>
						<td>1 to 5</td>
						<td>1 to 5</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Hardware intensity LUT</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-23B has build in intensity lut. This is LUT conversion done in camera hardware. Threr are three related properties. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>Properties</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAM_IDPROP_INTENSITYLUT_MODE</td>
						<td>Support ON and OFF. ON make intensity LUT enabled</td>
					</tr>
					<tr>
						<td>DCAM_IDPROP_INTENSITYLUT_WHITECLIP</td>
						<td>Larger intensity than this value will be clipped</td>
					</tr>
					<tr>
						<td>DCAM_IDPROP_INTENSITYLUT_BLACKCLIP</td>
						<td>Smaller intensity than this value will be clipped</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Conversion factor</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-23B can return conversion factor under certain condition. By using conversion factor, host software can calculate electron number from intensity count of the image. The formula and properties are following. 
				</div>
				

				
				<div class="formula">
					V
					<sub>electron</sub>
					= ( V
					<sub>image</sub>
					- V
					<sub>offset</sub>
					) × V
					<sub>coeff</sub>
				</div>
				<div class="formula">
					V
					<sub>offset</sub>
					= Value of DCAM_IDPROP_CONVERSIONFACTOR_OFFSET
				</div>
				<div class="formula">
					V
					<sub>coeff</sub>
					= Value of DCAM_IDPROP_CONVERSIONFACTOR_COEFF
				</div>
			</td>
              </tr>
            </table>
            <p></p>
            <p><a class="go-top" href="#Chapter_feature_properties_detail">Go to of chapter "Sensitivity and gain ".</a></p>
          </td>
          <td width="2%"></td>
        </tr>
      </table>
    </div>
    <hr>
    <div id="Chapter_readout_properties_detail">
      <div class="chapter">Readout Properties</div>
      <p></p>
      <table width="100%">
        <tr>
          <td width="1%"></td>
          <td>
            <hr>
            <div class="section">Readout speed</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
By changing sensor readout speed, camera will run on faster frame rate mode or on high precision mode which is lower readout noise. In case of C9100-13/-14, EM-CCD mode has 3 readout speeds, and Normal CCD mode has 2 readout speeds. In case of C9100-23B, EM-CCD mode has 3 readout speeds, too, but speeds are different. And Normal CCD mode has only 1 readout speed. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_READOUTSPEED</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>3</td>
						<td>11 MHz</td>
						<td>22 MHz</td>
					</tr>
					<tr>
						<td>2</td>
						<td>2.75 MHz</td>
						<td>11 MHz</td>
					</tr>
					<tr>
						<td>1</td>
						<td>687.5 KHz</td>
						<td>687.5 KHz</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Binning</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-13/-14 and C9100-23B support binning 1x1, 2x2 and 4x4 as standard. C9100-13/-14 also support binning 8x8 and 16x16 with M10354-01/-02 option. C9100-23B supports binning 8x8 and 16x16 with M10354-03 option. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_BINNING</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAMPROP_BINNING__1</td>
						<td>Binning 1x1</td>
						<td>Binning 1x1</td>
					</tr>
					<tr>
						<td>DCAMPROP_BINNING__2</td>
						<td>Binning 2x2</td>
						<td>Binning 2x2</td>
					</tr>
					<tr>
						<td>DCAMPROP_BINNING__4</td>
						<td>Binning 4x4</td>
						<td>Binning 4x4</td>
					</tr>
					<tr>
						<td>DCAMPROP_BINNING__8</td>
						<td>Binning 8x8 (with M10354-01/-02)</td>
						<td>Binning 8x8 (with M10354-03)</td>
					</tr>
					<tr>
						<td>DCAMPROP_BINNING__16</td>
						<td>Binning 16x16 (with M10354-01/02)</td>
						<td>Binning 16x16 (with M10354-03)</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <p><a class="go-top" href="#Chapter_readout_properties_detail">Go to of chapter "Readout Properties".</a></p>
          </td>
          <td width="2%"></td>
        </tr>
      </table>
    </div>
    <hr>
    <div id="Chapter_outputtrigger_properties_detail">
      <div class="chapter">Output trigger</div>
      <p></p>
      <table width="100%">
        <tr>
          <td width="1%"></td>
          <td>
            <hr>
            <div class="section">Number of output trigger connector</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
C9100-23B has 3 connectors for output trigger. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_NUMBEROF_OUTPUTTRIGGERCONNECTOR</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>return value</td>
						<td>n/a</td>
						<td>3</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Output trigger kind</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
Each output trigger can output different kind of timing. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_OUTPUTTRIGGER_KIND</td>
						<td>note</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_KIND__LOW</td>
						<td>always LOW</td>
						<td>n/a</td>
						<td>support</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_KIND__EXPOSURE</td>
						<td>active during sensor is exposing</td>
						<td>timing I/O 2 pin</td>
						<td>support</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_KIND__PROGRAMABLE</td>
						<td>active as user programs</td>
						<td>timing I/O 3 pin</td>
						<td>support</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_KIND__TRIGGERREADY</td>
						<td>active means trigger is ready</td>
						<td>n/a</td>
						<td>support</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_KIND__HIGH</td>
						<td>always HIGH</td>
						<td>n/a</td>
						<td>support</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Output trigger source</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
				<div>
Programmable output trigger will start by other timing. In case of C9100-13/-14, it can only start from starting EXPOSURE but in case of C9100-23B, it can also start from starting TRIGGER input. 
				</div>
				<table width="100%" border="1" align="center">
					<tr>
						<td>DCAM_IDPROP_OUTPUTTRIGGER_SOURCE</td>
						<td>note</td>
						<td>C9100-13/-14</td>
						<td>C9100-23B</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_SOURCE__EXPOSURE</td>
						<td>start by starting EXPOSURE</td>
						<td>only this mode</td>
						<td>support</td>
					</tr>
					<tr>
						<td>DCAMPROP_OUTPUTTRIGGER_SOURCE__TRIGGER</td>
						<td>start by starting TRIGGER</td>
						<td>n/a</td>
						<td>support</td>
					</tr>
				</table>
			</td>
              </tr>
            </table>
            <p></p>
            <p><a class="go-top" href="#Chapter_outputtrigger_properties_detail">Go to of chapter "Output trigger".</a></p>
          </td>
          <td width="2%"></td>
        </tr>
      </table>
    </div>
		<hr>
    <div id="Chapter_appendix_detail">
      <div class="chapter">Appendix</div>
      <p></p>
      <table width="100%">
        <tr>
          <td width="1%"></td>
          <td>
            <hr>
            <div class="section">Read before using</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
					<div>
This document and the software sample codes are internal documents of Hamamatsu Photonics K.K.(it is described as the following HPK) and are disclosed upon request in order to enable the user to create a host software using DCAM-API. 
					</div>
					<div>
This document and the software sample codes are disclosed only for the purpose described above, and do not constitute a license, transfer, or any other entitlement for the owner. 
					</div>
					<div>
All of risk and result of using software depending on this document remains with the user. 
					</div>
					<div>
This document may include technical inaccuracies or typographical errors. HPK does not guarantee any damage arising from such errors or this document. 
					</div>
					<div>
HPK makes no commitment to update or keep current the information contained in this document. 
					</div>
					<div>
All brand and product names are trademarks or registered trademarks of their respective owners. HPK has copyright of this document with all rights reserved. 
					</div>
					<div>
No part of this documentation may be reproduced, transmitted, transcribed, stored in a retrieval system, or translated into any language or computer language, in any form, or by any means, in any means, electronic, mechanical, magnetic, optical, chemical, manual or otherwise, without the prior written permission of HPK. 
					</div>
				</td>
              </tr>
            </table>
            <p></p>
            <hr>
            <div class="section">Overview</div>
            <table width="96%">
              <tr>
                <td width="1%"></td>
                <td>
					<div>
This document explains different functions between C9100-13 (ImagEM) / C9100-14 (ImagEM 1K) and C9100-23B (ImagEM X2) and how to control them by DCAM Properties. This document requires knowledge of basic concept of DCAM-API and SDK. If you need description about them, please reffer other documents. 						
					</div>

					dcamgeneral
				</td>
              </tr>
            </table>
            <p></p>
            <p><a class="go-top" href="#Chapter_appendix_detail">Go to of chapter "Appendix".</a></p>
          </td>
          <td width="2%"></td>
        </tr>
      </table>
    </div>
	</body>
</html>